<!DOCTYPE html>
<html lang="de">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<link
			href="https://getbootstrap.com/docs/5.3/assets/css/docs.css"
			rel="stylesheet"
		/>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
			integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
			crossorigin="anonymous"
		/>

		<link rel="stylesheet" href="style.css">

	</head>
	<body>
		<div class="box">
			<h2 class="header">STO Motors Rechner</h2>

			<div class="container">
				<div class="row">
					<div class="col">
						<div class="custom-control custom-switch custom-switch-lg">
							<input
								type="checkbox"
								class="custom-control-input"
								id="sFulltune1"
							/>
							<label
								class="custom-control-label"
								for="sFulltune1"
								id="headerSwitch"
							>
								Fulltune mit Panzerung
							</label>
						</div>
					</div>

					<div class="col">
						<div class="custom-control custom-switch custom-switch-lg">
							<input
								type="checkbox"
								class="custom-control-input"
								id="sFulltune2"
							/>
							<label
								class="custom-control-label"
								for="sFulltune2"
								id="headerSwitch2"
								>Fulltune ohne Panzerung</label
							>
						</div>
					</div>
				</div>
			</div>

			<div class="container">
				<!-- TOP -->
				<div class="row">
					<!-- TOP LEFT -->
					<div class="col" id="inbox">
						<table class="table table-striped">
							<tbody>
								<!-- Motor -->
								<tr>
									<td style="padding: 0; padding-top: 6px; padding-left: 20px">
										<img src="images/engine.png" style="width: 35px" />
									</td>
									<td><p1 class="menuItem"> Motor </p1></td>
									<td>
										<div class="custom-control custom-switch custom-switch-md">
											<input
												type="checkbox"
												class="custom-control-input"
												id="sMotor"
											/>
											<label class="custom-control-label" for="sMotor"></label>
										</div>
									</td>
								</tr>

								<!-- Turbo -->
								<tr>
									<td style="padding: 0; padding-top: 6px; padding-left: 20px">
										<img src="images/turbo.png" style="width: 35px" />
									</td>
									<td><p1 class="menuItem"> Turbo </p1></td>
									<td>
										<div class="custom-control custom-switch custom-switch-md">
											<input
												type="checkbox"
												class="custom-control-input"
												id="sTurbo"
											/>
											<label class="custom-control-label" for="sTurbo"></label>
										</div>
									</td>
								</tr>

								<!-- Getriebe -->
								<tr>
									<td style="padding: 0; padding-top: 6px; padding-left: 20px">
										<img src="images/gearbox.png" style="width: 35px" />
									</td>
									<td><p1 class="menuItem"> Getriebe </p1></td>
									<td>
										<div class="custom-control custom-switch custom-switch-md">
											<input
												type="checkbox"
												class="custom-control-input"
												id="sGetriebe"
											/>
											<label
												class="custom-control-label"
												for="sGetriebe"
											></label>
										</div>
									</td>
								</tr>

								<!-- Bremsen  -->
								<tr>
									<td style="padding: 0; padding-top: 6px; padding-left: 20px">
										<img src="images/brakes.png" style="width: 35px" />
									</td>
									<td><p1 class="menuItem"> Bremsen </p1></td>
									<td>
										<div class="custom-control custom-switch custom-switch-md">
											<input
												type="checkbox"
												class="custom-control-input"
												id="sBreak"
											/>
											<label class="custom-control-label" for="sBreak"></label>
										</div>
									</td>
								</tr>

								<!-- Fahrwerk  -->
								<tr>
									<td style="padding: 0; padding-top: 6px; padding-left: 20px">
										<img src="images/shock-absorber.png" style="width: 35px" />
									</td>
									<td><p1 class="menuItem"> Fahrwerk </p1></td>
									<td>
										<div class="custom-control custom-switch custom-switch-md">
											<input
												type="checkbox"
												class="custom-control-input"
												id="sSuspension"
											/>
											<label
												class="custom-control-label"
												for="sSuspension"
											></label>
										</div>
									</td>
								</tr>

								<!-- Panzerung  -->
								<tr>
									<td style="padding: 0; padding-top: 6px; padding-left: 20px">
										<img src="images/shield.png" style="width: 40px" />
									</td>
									<td><p1 class="menuItem"> Panzerung </p1></td>
									<td>
										<div class="custom-control custom-switch custom-switch-md">
											<input
												type="checkbox"
												class="custom-control-input"
												id="sShield"
											/>
											<label class="custom-control-label" for="sShield"></label>
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>

					<!-- TOP RIGHT -->
					<div class="col" id="inbox">
						<table class="table table-striped">
							<tbody>
								<!-- Primärfarbe -->
								<tr>
									<td style="padding: 0; padding-top: 6px; padding-left: 20px">
										<img src="images/color.png" style="width: 35px" />
									</td>
									<td><p1 class="menuItem"> Primärfarbe </p1></td>
									<td>
										<div class="custom-control custom-switch custom-switch-md">
											<input
												type="checkbox"
												class="custom-control-input"
												id="sPrimaer"
											/>
											<label
												class="custom-control-label"
												for="sPrimaer"
											></label>
										</div>
									</td>
								</tr>

								<!-- Sekundärfarbe -->
								<tr>
									<td style="padding: 0; padding-top: 6px; padding-left: 20px">
										<img src="images/color.png" style="width: 35px" />
									</td>
									<td><p1 class="menuItem"> Sekundärfarbe </p1></td>
									<td>
										<div class="custom-control custom-switch custom-switch-md">
											<input
												type="checkbox"
												class="custom-control-input"
												id="sSekundaer"
											/>
											<label
												class="custom-control-label"
												for="sSekundaer"
											></label>
										</div>
									</td>
								</tr>

								<!-- Farbtyp -->
								<tr>
									<td style="padding: 0; padding-top: 6px; padding-left: 20px">
										<img src="images/color picker.png" style="width: 35px" />
									</td>
									<td><p1 class="menuItem"> Farbtyp </p1></td>
									<td>
										<div class="custom-control custom-switch custom-switch-md">
											<input
												type="checkbox"
												class="custom-control-input"
												id="sColorType"
											/>
											<label
												class="custom-control-label"
												for="sColorType"
											></label>
										</div>
									</td>
								</tr>

								<!-- Perleffekt -->
								<tr>
									<td style="padding: 0; padding-top: 6px; padding-left: 20px">
										<img src="images/color picker.png" style="width: 35px" />
									</td>
									<td><p1 class="menuItem"> Perleffekt </p1></td>
									<td>
										<div class="custom-control custom-switch custom-switch-md">
											<input
												type="checkbox"
												class="custom-control-input"
												id="sPearl"
											/>
											<label class="custom-control-label" for="sPearl"></label>
										</div>
									</td>
								</tr>

								<!-- Felgenfarbe -->
								<tr>
									<td style="padding: 0; padding-top: 6px; padding-left: 20px">
										<img src="images/rim.png" style="width: 35px" />
									</td>
									<td><p1 class="menuItem"> Felgenfarbe </p1></td>
									<td>
										<div class="custom-control custom-switch custom-switch-md">
											<input
												type="checkbox"
												class="custom-control-input"
												id="sRimColor"
											/>
											<label
												class="custom-control-label"
												for="sRimColor"
											></label>
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>

				<!-- Bottom -->
				<div class="row">
					<!-- Bottom left -->
					<div class="col" id="inbox">
						<table class="table table-striped">
							<tbody>
								<!-- Felgen -->
								<tr>
									<td style="padding: 0; padding-top: 6px; padding-left: 20px">
										<img src="images/rim.png" style="width: 35px" />
									</td>
									<td><p1 class="menuItem"> Felgen </p1></td>
									<td>
										<div class="custom-control custom-switch custom-switch-md">
											<input
												type="checkbox"
												class="custom-control-input"
												id="sRim"
											/>
											<label class="custom-control-label" for="sRim"></label>
										</div>
									</td>
								</tr>

								<!-- Reigenqualm -->
								<tr>
									<td style="padding: 0; padding-top: 6px; padding-left: 20px">
										<img src="images/smoke.png" style="width: 40px" />
									</td>
									<td><p1 class="menuItem"> Reigenqualm </p1></td>
									<td>
										<div class="custom-control custom-switch custom-switch-md">
											<input
												type="checkbox"
												class="custom-control-input"
												id="sTireSmoke"
											/>
											<label
												class="custom-control-label"
												for="sTireSmoke"
											></label>
										</div>
									</td>
								</tr>

								<!-- Unterbodenlicht -->
								<tr>
									<td style="padding: 0; padding-top: 3px; padding-left: 20px">
										<img src="images/light.png" style="width: 40px" />
									</td>
									<td><p1 class="menuItem"> Unterbodenlicht </p1></td>
									<td>
										<div class="custom-control custom-switch custom-switch-md">
											<input
												type="checkbox"
												class="custom-control-input"
												id="sUnderlight"
											/>
											<label
												class="custom-control-label"
												for="sUnderlight"
											></label>
										</div>
									</td>
								</tr>

								<!-- Sticker -->
								<tr>
									<td style="padding: 0; padding-top: 6px; padding-left: 20px">
										<img src="images/foil.png" style="width: 40px" />
									</td>
									<td><p1 class="menuItem"> Sticker </p1></td>
									<td>
										<div class="custom-control custom-switch custom-switch-md">
											<input
												type="checkbox"
												class="custom-control-input"
												id="sSticker"
											/>
											<label
												class="custom-control-label"
												for="sSticker"
											></label>
										</div>
									</td>
								</tr>

								<!-- Scheibentönung -->
								<tr>
									<td style="padding: 0; padding-top: 6px; padding-left: 20px">
										<img src="images/windows.png" style="width: 35px" />
									</td>
									<td><p1 class="menuItem"> Scheibentönung </p1></td>
									<td>
										<div class="custom-control custom-switch custom-switch-md">
											<input
												type="checkbox"
												class="custom-control-input"
												id="sWindowTint"
											/>
											<label
												class="custom-control-label"
												for="sWindowTint"
											></label>
										</div>
									</td>
								</tr>

								<!-- Hupe -->
								<tr>
									<td style="padding: 0; padding-top: 6px; padding-left: 20px">
										<img src="images/horn.png" style="width: 35px" />
									</td>
									<td><p1 class="menuItem"> Hupe </p1></td>
									<td>
										<div class="custom-control custom-switch custom-switch-md">
											<input
												type="checkbox"
												class="custom-control-input"
												id="sHorn"
											/>
											<label class="custom-control-label" for="sHorn"></label>
										</div>
									</td>
								</tr>

								<!-- Extras außen -->
								<tr>
									<td style="padding: 0; padding-top: 6px; padding-left: 20px">
										<img src="images/extra.png" style="width: 45px" />
									</td>
									<td><p1 class="menuItem"> Extras außen </p1></td>
									<td style="padding: 0">
										<form>
											<div
												class="form-group"
												style="padding-top: 7px; margin: 0; width: 80px"
											>
												<input
													type="text"
													class="form-control"
													id="iOutside"
													placeholder="Anzahl"
												/>
											</div>
										</form>
									</td>
								</tr>

								<!-- Extras Innen -->
								<tr>
									<td style="padding: 0; padding-top: 6px; padding-left: 20px">
										<img src="images/extra.png" style="width: 45px" />
									</td>
									<td><p1 class="menuItem"> Extras Innen </p1></td>
									<td style="padding: 0">
										<form>
											<div
												class="form-group"
												style="padding-top: 7px; margin: 0; width: 80px"
											>
												<input
													type="text"
													class="form-control"
													id="iInside"
													placeholder="Anzahl"
												/>
											</div>
										</form>
									</td>
								</tr>
							</tbody>
						</table>
					</div>

					<!-- Bottom right-->
					<div class="col" id="inbox">
						<div class="container" style="padding: 20px">
							<div class="row">
								<div class="col">
									<p
										style="font-size: 40px; color: #006fae; font-weight: bolder"
									>
										Preis:
									</p>
								</div>
								<div class="col">
									<p
										style="
											font-size: 40px;
											color: rgb(7, 128, 7);
											font-weight: bolder;
										"
										id="preis"
									>
										0€
									</p>
								</div>
							</div>
							<div class="row">
								<div class="col">
									<p
										style="font-size: 40px; color: #006fae; font-weight: bolder"
									>
										Rabatt:
									</p>
								</div>
								<div class="col">
									<form>
										<div
											class="form-group"
											style="padding-top: 15px; margin: 0; width: 100px"
										>
											<input
												type="text"
												class="form-control"
												id="iDiscount"
												placeholder="Rabatt"
											/>
										</div>
									</form>
								</div>
							</div>

							<div class="row">
								<div class="col">
									<p
										style="font-size: 40px; color: #006fae; font-weight: bolder"
									>
										Preis Final:
									</p>
								</div>
								<div class="col">
									<p
										style="
											font-size: 40px;
											color: rgb(7, 128, 7);
											font-weight: bolder;
										"
										id="preisFinal"
									>
										0€
									</p>
								
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<script>
			document.addEventListener('DOMContentLoaded', function () {
				// Prices (dummy values, adjust as needed)
				const prices = {
					motor: 150000,
					turbo: 80000,
					getriebe: 70000,
					bremsen: 50000,
					fahrwerk: 50000,
					panzerung: 50000,
					primaerfarbe: 50000,
					sekundaerfarbe: 50000,
					farbtyp: 15000,
					perleffekt: 30000,
					felgenfarbe: 10000,
					felgen: 10000,
					reifenqualm: 10000,
					unterbodenlicht: 10000,
					sticker: 5000,
					scheibentoenung: 10000,
					hupe: 5000,
					extrasAussen: 10000,
					extrasInnen: 10000,
				};

				// Get references to all elements
				const switches = {
					motor: document.getElementById('sMotor'),
					turbo: document.getElementById('sTurbo'),
					getriebe: document.getElementById('sGetriebe'),
					bremsen: document.getElementById('sBreak'),
					fahrwerk: document.getElementById('sSuspension'),
					panzerung: document.getElementById('sShield'),
					primaerfarbe: document.getElementById('sPrimaer'),
					sekundaerfarbe: document.getElementById('sSekundaer'),
					farbtyp: document.getElementById('sColorType'),
					perleffekt: document.getElementById('sPearl'),
					felgenfarbe: document.getElementById('sRimColor'),
					felgen: document.getElementById('sRim'),
					reifenqualm: document.getElementById('sTireSmoke'),
					unterbodenlicht: document.getElementById('sUnderlight'),
					sticker: document.getElementById('sSticker'),
					scheibentoenung: document.getElementById('sWindowTint'),
					hupe: document.getElementById('sHorn'),
					fulltune1: document.getElementById('sFulltune1'),
					fulltune2: document.getElementById('sFulltune2'),
				};

				const inputs = {
					anzahlAussen: document.getElementById('iOutside'),
					anzahlInnen: document.getElementById('iInside'),
					rabatt: document.getElementById('iDiscount'),
				};

				const preisDisplay = document.getElementById('preis');
				const preisFinalDisplay = document.getElementById('preisFinal');

				function calculatePrice() {
					let total = 0;

					// Calculate based on switches
					for (let key in switches) {
						if (switches[key].checked && prices[key]) {
							total += prices[key];
						}
					}

					// Calculate "Extras" with multipliers
					const extrasAussenPrice =
						prices.extrasAussen * (parseInt(inputs.anzahlAussen.value) || 0);
					const extrasInnenPrice =
						prices.extrasInnen * (parseInt(inputs.anzahlInnen.value) || 0);

					total += extrasAussenPrice + extrasInnenPrice;

					// Apply discount
					const rabattInput = inputs.rabatt.value.trim();
					let finalPrice;

					if (rabattInput.startsWith('+')) {
   					const zuschlag = parseInt(rabattInput.substring(1)) || 0;
   					finalPrice = total + (total * zuschlag) / 100;
					} else {
    				const rabatt = parseInt(rabattInput) || 0;
    				finalPrice = total - (total * rabatt) / 100;
					}

					// Update displays
					preisDisplay.textContent = total.toLocaleString('de-DE') + '€';
					preisFinalDisplay.textContent = finalPrice.toLocaleString('de-DE') + '€';
				}

				// Add event listeners to switches
				for (let key in switches) {
					switches[key].addEventListener('change', function () {
						calculatePrice();

						// Fulltune mit Panzerung logic
						if (switches.fulltune1.checked) {
							switches.motor.checked =
								switches.turbo.checked =
								switches.getriebe.checked =
								switches.bremsen.checked =
								switches.fahrwerk.checked =
								switches.panzerung.checked =
									true;
						}

						// Fulltune ohne Panzerung logic
						if (switches.fulltune2.checked) {
							switches.motor.checked =
								switches.turbo.checked =
								switches.getriebe.checked =
								switches.bremsen.checked =
								switches.fahrwerk.checked =
									true;
							switches.panzerung.checked = false;
						}

						// Ensure both cannot be selected at once
						if (switches.fulltune1.checked && switches.fulltune2.checked) {
							this.checked = false;
						}

						// Unselect all if any dependent switch is unselected
						if (
							!this.checked &&
							(key === 'motor' ||
								key === 'turbo' ||
								key === 'getriebe' ||
								key === 'bremsen' ||
								key === 'fahrwerk' ||
								key === 'panzerung')
						) {
							switches.fulltune1.checked = switches.fulltune2.checked = false;
						}
					});
				}

				// Add event listeners to inputs
				inputs.anzahlAussen.addEventListener('input', calculatePrice);
				inputs.anzahlInnen.addEventListener('input', calculatePrice);
				inputs.rabatt.addEventListener('input', calculatePrice);

				// Initialize price display
				calculatePrice();
			});
		</script>
	</body>
</html>
